 r←init_selenium_htmlrenderer nul;z;arg;cmd
⍝ Initialize Selenium with Chrome driver to control an HtmlRenderer that we will also launch
 path←1⊃⎕NPARTS{(-'/\'∊⍨⊢/⍵)↓⍵}##.TESTSOURCE    ⍝ needs to be global so that tests can find resources
 arg←⎕NS''
 arg.folder←path
 arg.batch←1
 :If ~⊃r←⎕SE.Cider.OpenProject ⎕SE.Cider.CreateOpenParms arg    ⍝ open project using Cider
     r←2⊃r
     →0
 :EndIf

 ⍝ kick off separate interpreter with an HtmlRenderer
 {}⎕SE.Link.Import #'APLProcess'
 cmd←'LX="''h''⎕WC''HTMLRenderer''⋄h.ShowDevTools 1" -cef  --remote-debugging-port=8080'
 PROCESS←⎕NEW #.APLProcess(''cmd)

 #.S←#.Selenium
 :If ⊃r←#.S.InitBrowser'HtmlRenderer' 80   ⍝ if there was an error initialising the browser
     ∘∘∘
     r←2⊃r                           ⍝ report it...
 :Else
     r←''
 :EndIf
